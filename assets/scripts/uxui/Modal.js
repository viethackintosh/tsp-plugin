import{buildTag as e}from"../helpers/buildtag.js";let isNodeDOM=e=>e instanceof Element,modalInnerHtml=`<div class="modal__wrapper"><div class="modal__element modal__header header">
<div class="modal__icon md-icon"><div class=exclamation></div></div>
<div class="modal__title md-title"><h4 class=title>Cáº£nh b\xe1o</h4></div>
<div class="modal__btn close"><div class=closeicon></div></div>
</div>
<div class="modal__element modal__body body"></div>
<div class="modal__element modal__footer footer"></div>
</div>`,Modal=function(){let l=this;l.modal,l.init=({id:e,config:o})=>{if(!e)return;let a=document.querySelector(`#${e}`);return a=a?l.collectModal({modal:a,config:o}):l.createModal({id:e,config:o}),l.modal=a,document.body.append(l.modal.main),l},l.createModal=({id:o,config:a})=>{let d=e({tag:"div",className:"modal",id:o,innerHTML:modalInnerHtml});return l.collectModal({modal:d,config:a})},l.collectModal=({modal:o,config:a})=>{let d={main:o,header:o.querySelector(".header"),body:o.querySelector(".body"),footer:o.querySelector(".footer"),icon:o.querySelector(".md-icon"),title:o.querySelector(".md-title")},t=d.main.querySelector(".mdoverlay");t||(t=e({tag:"div",className:"modal__overlay mdoverlay close"})),d.main.append(t),d.overlay=t;let i=d.main.querySelectorAll(".close");return i&&Array.from(i).map(e=>e.onclick=e=>l.close()),Object.entries(a).map(([e,o])=>l[e]({modal:d,paramater:o})),d},l.clear=({modal:e,paramater:l})=>e.main.clear=l,l.title=({modal:e,paramater:l})=>e.title.innerHTML=l,l.content=({modal:e,paramater:l})=>isNodeDOM(l)?e.body.append(l):e.body.innerHTML=l,l.header=({modal:e,paramater:l})=>!1===l?e.header.classList.add("hide"):e.header.classList.remove("hide"),l.footer=({modal:e,paramater:l})=>!1===l?e.footer.classList.add("hide"):e.footer.classList.remove("hide"),l.close=()=>{let e=l.modal;e.main.clear&&!0===e.main.clear&&(e.body.innerHTML=""),document.body.removeAttribute("style"),e.main.classList.remove("open")},l.open=({config:e})=>{e&&Object.entries(e).map(([e,o])=>l[e]({modal:modalIn,paramater:o})),document.body.style.overflow="hidden",l.modal.main.classList.add("open")}};export{Modal};